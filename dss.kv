#:import Graph kivy.garden.graph.Graph
#:import MeshLinePlot kivy.garden.graph.MeshLinePlot
<RootWidget>:
	do_default_tab: False
	tab_width: self.size[0] / len(self.tab_list)

	TabbedPanelItem:
		id: tab_preprocess
		text: 'Preprocess'

		BoxLayout:
			orientation: 'vertical'
			
			BoxLayout:
				id: layout
				size_hint_y: None
				spacing: 10
				padding: [10, 10, 10, 10]


				BoxLayout:
					size_hint: (.01, .5)


				Label:
					
					text: 'Choose source of DB:'
					size: self.texture_size # for wrapping
					text_size: self.width, None
					halign: 'left'
					valign: 'bottom'
					size_hint: (.2, .5)
					pos_hint: {'top': 0.5 + self.size_hint[1]/2}



				BoxLayout:
					size_hint: (.09, .5)

				
				Button:
					text: 'Internet'
					spacing: (20, 0)
					size_hint: (.2, .4)
					pos_hint: {'top': 0.5 + self.size_hint[1]/2}
					on_press: root.internet_popup(*args)


				BoxLayout:
					size_hint: (.15, .5)
				


				Button:
					text: 'Local File'
					size_hint: (.2, .4)
					pos_hint: {'top': 0.5 + self.size_hint[1]/2}
					on_press: root.local_file_popup(*args)

				BoxLayout:
					size_hint: (.15, .5)
			
			BoxLayout:
				id: layout
				size_hint_y: None
				spacing: 10
				padding: [5, 5, 5, 5]

				BoxLayout:
					size_hint: (.01, .5)

				Label:
					text: 'File Dest.'
					size: self.texture_size # for wrapping
					text_size: self.width, None
					halign: 'left'
					valign: 'bottom'
					size_hint: (.2, .5)
					pos_hint: {'top': 0.5 + self.size_hint[1]/2}
				
				BoxLayout:


					size_hint: (.3, .4)

					pos_hint: {'top': 0.5 + self.size_hint[1]/2}
					
					ScrollView:
						do_scroll_x: True
						do_scroll_y: False 
						# size: self.size
						
						Label:
							id: display_file_name
							text: root.file_name
							text_size: None, None
							size_hint_x: None
							width: self.texture_size[0]
							# spacing: (20, 0)

				BoxLayout:
					size_hint: (.15, .5)
				
				Button:
					text: 'Import'	
					size_hint: (.2, .4)
					pos_hint: {'top': 0.5 + self.size_hint[1]/2}

				# BoxLayout:
				# 	size_hint: (.15, .5)
			
			BoxLayout:
				#orientation: 'vertical'
				
				BoxLayout:
					orientation: 'vertical'

					BoxLayout:
						orientation: 'vertical'
						size_hint: (1,0.9)


						BoxLayout:
							size_hint: (1,0.1)

							Label:
								color: (1,0,0,1)
								text:'S.No.'
								halign: 'left'
								valign: 'top'
								size_hint:(0.2,1)
								pos_hint: {'top': 0.5 + self.size_hint[1]/2}

							BoxLayout:
								size_hint:(0.4,1)
							
							Label:
								color: (1,0,0,1)
								text:'Name'
								halign: 'right'
								valign: 'top'
								size_hint:(0.4,1)
								pos_hint: {'top': 0.5 + self.size_hint[1]/2}

						BoxLayout:
							size_hint:(1,.2)


						ScrollView:
							
							
							GridLayout:
								id: layout_content
								height: self.minimum_height
								cols: 3
								size_hint_y: None
								row_default_height: '50dp'
                				# row_force_default: True
				
								Label:
									color: (1,0,0,1)
									text:'1'
									halign: 'left'
									valign: 'top'
									size_hint:(0.2,1)
									pos_hint: {'top': 0.5 + self.size_hint[1]/2}

								BoxLayout:
									size_hint: (0.4, 1)

								Label:
									color: (1,0,0,1)
									text:'Name'
									halign: 'right'
									valign: 'top'
									size_hint:(0.4,1)
									pos_hint: {'top': 0.5 + self.size_hint[1]/2}
										
									

								
								Label:
									color: (1,0,0,1)
									text:'2'
									halign: 'left'
									valign: 'top'
									size_hint:(0.2,1)
									pos_hint: {'top': 0.5 + self.size_hint[1]/2}

								BoxLayout:
									size_hint:(0.4,1)
								
								Label:
									color: (1,0,0,1)
									text:'Name'
									halign: 'right'
									valign: 'top'
									size_hint:(0.4,1)
									pos_hint: {'top': 0.5 + self.size_hint[1]/2}
	
								Label:
									color: (1,0,0,1)
									text:'3'
									halign: 'left'
									valign: 'top'
									size_hint:(0.2,1)
									pos_hint: {'top': 0.5 + self.size_hint[1]/2}

								BoxLayout:
									size_hint:(0.4,1)
								
								Label:
									color: (1,0,0,1)
									text:'Name'
									halign: 'right'
									valign: 'top'
									size_hint:(0.4,1)
									pos_hint: {'top': 0.5 + self.size_hint[1]/2}
	
								Label:
									color: (1,0,0,1)
									text:'4'
									halign: 'left'
									valign: 'top'
									size_hint:(0.2,1)
									pos_hint: {'top': 0.5 + self.size_hint[1]/2}

								BoxLayout:
									size_hint:(0.4,1)
								
								Label:
									color: (1,0,0,1)
									text:'Name'
									halign: 'right'
									valign: 'top'
									size_hint:(0.4,1)
									pos_hint: {'top': 0.5 + self.size_hint[1]/2}

								Label:
									color: (1,0,0,1)
									text:'5'
									halign: 'left'
									valign: 'top'
									size_hint:(0.2,1)
									pos_hint: {'top': 0.5 + self.size_hint[1]/2}

								BoxLayout:
									size_hint:(0.4,1)
								
								Label:
									color: (1,0,0,1)
									text:'Name'
									halign: 'right'
									valign: 'top'
									size_hint:(0.4,1)
									pos_hint: {'top': 0.5 + self.size_hint[1]/2}

								Label:
									color: (1,0,0,1)
									text:'1'
									halign: 'left'
									valign: 'top'
									size_hint:(0.2,1)
									pos_hint: {'top': 0.5 + self.size_hint[1]/2}

								BoxLayout:
									size_hint: (0.4, 1)

								Label:
									color: (1,0,0,1)
									text:'Name'
									halign: 'right'
									valign: 'top'
									size_hint:(0.4,1)
									pos_hint: {'top': 0.5 + self.size_hint[1]/2}

								Label:
									color: (1,0,0,1)
									text:'1'
									halign: 'left'
									valign: 'top'
									size_hint:(0.2,1)
									pos_hint: {'top': 0.5 + self.size_hint[1]/2}

								BoxLayout:
									size_hint: (0.4, 1)

								Label:
									color: (1,0,0,1)
									text:'Name'
									halign: 'right'
									valign: 'top'
									size_hint:(0.4,1)
									pos_hint: {'top': 0.5 + self.size_hint[1]/2}


					BoxLayout:
						orientation: 'vertical'
						size_hint: (1,0.2)

						BoxLayout:
							size_hint: (0.8,1)

						Button:
							text: 'Drop'
							halign: 'right'
							valign: 'bottom'
							size_hint: (0.2,1)





						# TextInput:
						# 	size_hint: (1,0.1)
						# 	background_color:(1,0,0,1)


				
				ScrollView:
					
					Label:
						color: (0, 1, 1, .5)
						text: str('abracadabra ' * 1000)
						text_size: self.width, None
						size_hint_y: None
						height: self.texture_size[1]

			

	
	TabbedPanelItem:
		id: tab_predict
		text: 'Predict'

	TabbedPanelItem:
		id: tab_optimize
		text: 'Optimize'
		
		BoxLayout:
	        orientation: 'horizontal'
	        
		    BoxLayout:
		        orientation: "vertical"
		        BoxLayout:
		            id: layout2
		            spacing: 10
		            padding: [5, 5, 5, 5]

		            Label:
		            	font_size: 20
		                text: "Select Model:"
		                size: self.texture_size
		                color: (1,1,1,2)
		    
		        GridLayout:
		            cols: 2
		            canvas.before:
		                Color:
		                    rgb: 100/255., 149/255., 237/255.
		                Rectangle:
		                    pos: self.pos
		                    size: self.size

		            CheckBox:
		                group: "models"
		                color: [0,0,0,1] 
		                on_active: root.optimize_SVM()   
		            Label:
		                text: "SVM"
		                color: 0,0,0,1


		            CheckBox:
		                group: "models"
		            Label
		                text: "Random Forest"
		                color: 0,0,0,1

		            CheckBox:
		                group: "models"
		            Label
		                text: "k-Nearest Neighbours " 
		                color: 0,0,0,1

		        BoxLayout:

		        	Label:
		        		text: "Parameters"
		        		font_size: 20

	        	BoxLayout:
	        		Button:
						text: 'GO!!'
						font_size: 20
						spacing: (20, 0)
						size_hint: (.2, .4)
						pos_hint: {'top': 0.5 + self.size_hint[1]/2}
						on_press: root.optimize()


		    BoxLayout:
		            
	            padding: [5, 5, 5, 5]
	            width: self.parent.width * 2
	            height: self.parent.height
	            Graph:
	                id: graph_test
	                plot: MeshLinePlot

<InternetPopup>:
	title: 'Choose File'
	size_hint: (None, None)
	size: (600, 100)
	GridLayout:
		spacing: (10, 0)
		padding: [5, 5, 5, 5]
		cols: 3
		Label:
		    size_hint_x: .2
			text: 'Paste file link:'
		TextInput:
			id: url
			size_hint: (.5, 1)
		Button:
			size_hint_x: .1
			text: 'Go'
			on_press: root.send_file_name(*args) 


<LocalFilePopup>:
	title: 'Choose File'
	size_hint: (None, None)
	size: (600, 600)
	BoxLayout:
		FileChooserIconView:
			on_selection: root.select(*args)
